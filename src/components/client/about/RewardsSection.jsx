"use client";
import Link from "next/link";
import React from "react";
import { useDispatch } from "react-redux";
import { setCurrentStep, resetFlow, clearCsvFileData } from "@/redux/giftFlowSlice";

const BulkGifting = () => {
  const dispatch = useDispatch();

  const handleClick = () => {
    dispatch(resetFlow());
    dispatch(setCurrentStep(1));
    dispatch(clearCsvFileData());
  };

  return (
    <div className="mx-auto mt-10 mb-14 px-4 sm:px-6 lg:px-0 max-w-7xl">
      {/* Card */}
      <div
        className="relative flex flex-col md:flex-row items-center
        rounded-[30px] bg-[#FFE6D4]
        px-6 sm:px-8 md:px-12
        py-10 md:py-14"
      >
        {/* Left content */}
        <div className="w-full md:w-1/2 mb-10 md:mb-0 md:pr-10">
          <h2
            className="
              font-semibold fontPoppins text-[#1A1A1A]
              text-[28px]
              sm:text-[32px]
              md:text-[36px]
              lg:text-[40px]
              leading-tight mb-4
            "
          >
            Rewards at scale,
            <br className="hidden sm:block" />
            made simple.
          </h2>

          <p className="text-gray-700 text-sm sm:text-base mb-6 max-w-md">
            Buy in bulk, receive CSV codes instantly, track and reconcile with ease.
            Perfect for staff rewards, client campaigns, and loyalty programs.
          </p>

          <Link
            href="/gift?mode=bulk"
            onClick={handleClick}
            className="
              inline-flex items-center gap-2
              rounded-3xl px-5 py-3.5
              text-sm font-semibold text-white
              bg-linear-to-r from-pink-500 to-orange-400
              hover:from-pink-600 hover:to-orange-500
              transition
            "
          >
            Explore Bulk Gifting
            <svg width="8" height="9" viewBox="0 0 8 9" fill="none">
              <path
                d="M6.75 2.80128C7.75 3.37863 7.75 4.822 6.75 5.39935L2.25 7.99743C1.25 8.57478 0 7.85309 0 6.69839V1.50224C0 0.347537 1.25 -0.374151 2.25 0.2032L6.75 2.80128Z"
                fill="white"
              />
            </svg>
          </Link>
        </div>

        {/* Right image */}
        <div className="w-full md:w-1/2 flex justify-center md:justify-end">
          <img
            src="/gift.png"
            alt="Bulk gifting illustration"
            className="w-full max-w-sm md:max-w-full h-auto"
            loading="lazy"
            draggable={false}
          />
        </div>
      </div>

      {/* Features */}
      <div
        className="
          mt-8
          flex flex-wrap
          justify-center md:justify-between
          gap-y-4 gap-x-6
          text-gray-700
          text-sm sm:text-base
          font-medium
        "
      >
        <Feature icon="payment" text="Secure payments" />
        <Separator />
        <Feature icon="voucher" text="Brand-verified vouchers" />
        <Separator />
        <Feature icon="enterprise" text="Enterprise-ready" />
        <Separator />
        <Feature icon="support" text="Friendly support" />
      </div>
    </div>
  );
};

/* ---------- Helpers ---------- */

const icons = {
  payment: (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
      <g clipPath="url(#clip0_3235_4813)">
        <path fillRule="evenodd" clipRule="evenodd" d="M17.1923 9.19336C14.4857 9.19336 12.2891 11.39 12.2891 14.0966C12.2891 16.8032 14.4857 18.9999 17.1923 18.9999C19.8989 18.9999 22.0956 16.8032 22.0956 14.0966C22.0956 11.39 19.8989 9.19336 17.1923 9.19336ZM15.1846 15.1599L16.2168 16.1921C16.294 16.2694 16.3866 16.3294 16.4886 16.3683C16.5906 16.4071 16.6997 16.424 16.8087 16.4178C16.9177 16.4115 17.0241 16.3823 17.121 16.3321C17.2179 16.2818 17.3031 16.2116 17.3709 16.1261L19.3477 13.6342C19.4647 13.4724 19.5147 13.2716 19.4874 13.0739C19.4601 12.8761 19.3575 12.6964 19.201 12.5724C19.0445 12.4484 18.8462 12.3895 18.6474 12.4081C18.4486 12.4267 18.2646 12.5212 18.1338 12.6721L16.6979 14.4837L16.2798 14.0657C16.1339 13.9246 15.9383 13.8464 15.7353 13.8481C15.5323 13.8498 15.3381 13.9311 15.1945 14.0746C15.0509 14.2181 14.9694 14.4122 14.9675 14.6152C14.9657 14.8182 15.0436 15.0138 15.1846 15.1599Z" fill="url(#paint0_linear_3235_4813)" />
        <path fillRule="evenodd" clipRule="evenodd" d="M14.7701 8.67748H-0.0976562V15.1292C-0.0976562 15.8817 0.201702 16.6043 0.73332 17.1369C1.2662 17.6687 1.98822 17.9676 2.74108 17.9679H12.6942C11.7658 16.8921 11.2557 15.5179 11.2573 14.0969C11.2577 12.951 11.5895 11.8296 12.2128 10.868C12.8361 9.90644 13.7242 9.14568 14.7701 8.67748ZM6.87119 13.3227H3.77335C3.56802 13.3227 3.3711 13.4043 3.22591 13.5494C3.08072 13.6946 2.99915 13.8916 2.99915 14.0969C2.99915 14.3022 3.08072 14.4991 3.22591 14.6443C3.3711 14.7895 3.56802 14.8711 3.77335 14.8711H6.87119C7.07652 14.8711 7.27344 14.7895 7.41863 14.6443C7.56382 14.4991 7.64539 14.3022 7.64539 14.0969C7.64539 13.8916 7.56382 13.6946 7.41863 13.5494C7.27344 13.4043 7.07652 13.3227 6.87119 13.3227ZM-0.0976562 7.12907H20.0316V5.83874C20.0316 5.08621 19.7322 4.36363 19.2006 3.83098C18.6677 3.29915 17.9457 3.00032 17.1928 3H2.74108C1.98856 3 1.26597 3.29936 0.73332 3.83098C0.20149 4.36386 -0.0973402 5.08587 -0.0976562 5.83874V7.12907Z" fill="#002402" />
      </g>
      <defs>
        <linearGradient id="paint0_linear_3235_4813" x1="12.2891" y1="12.8014" x2="21.6237" y2="16.9691" gradientUnits="userSpaceOnUse">
          <stop stopColor="#ED457D" />
          <stop offset="1" stopColor="#FA8F42" />
        </linearGradient>
        <clipPath id="clip0_3235_4813">
          <rect width="22" height="22" fill="white" />
        </clipPath>
      </defs>
    </svg>

  ),
  voucher: (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
      <path d="M1 18.6667C0.999593 18.9732 1.05967 19.2768 1.17678 19.5601C1.2939 19.8434 1.46575 20.1007 1.68251 20.3175C1.89926 20.5342 2.15664 20.7061 2.43992 20.8232C2.7232 20.9403 3.0268 21.0004 3.33333 21H12.6667C12.9732 21.0004 13.2768 20.9403 13.5601 20.8232C13.8434 20.7061 14.1007 20.5342 14.3175 20.3175C14.5342 20.1007 14.7061 19.8434 14.8232 19.5601C14.9403 19.2768 15.0004 18.9732 15 18.6667V16.3333H9.55556C8.52428 16.3329 7.53537 15.9231 6.80615 15.1938C6.07693 14.4646 5.66708 13.4757 5.66667 12.4444V7H3.33333C3.0268 6.99959 2.7232 7.05967 2.43992 7.17678C2.15664 7.2939 1.89926 7.46575 1.68251 7.68251C1.46575 7.89926 1.2939 8.15664 1.17678 8.43992C1.05967 8.7232 0.999593 9.0268 1 9.33333V18.6667Z" fill="#002402" />
      <path d="M21 3.33333C21.0004 3.0268 20.9403 2.7232 20.8232 2.43992C20.7061 2.15664 20.5342 1.89926 20.3175 1.68251C20.1007 1.46575 19.8434 1.2939 19.5601 1.17678C19.2768 1.05967 18.9732 0.999593 18.6667 1H9.33333C9.0268 0.999593 8.7232 1.05967 8.43992 1.17678C8.15664 1.2939 7.89926 1.46575 7.68251 1.68251C7.46575 1.89926 7.2939 2.15664 7.17678 2.43992C7.05967 2.7232 6.99959 3.0268 7 3.33333V12.6667C6.99959 12.9732 7.05967 13.2768 7.17678 13.5601C7.2939 13.8434 7.46575 14.1007 7.68251 14.3175C7.89926 14.5342 8.15664 14.7061 8.43992 14.8232C8.7232 14.9403 9.0268 15.0004 9.33333 15H18.6667C18.9732 15.0004 19.2768 14.9403 19.5601 14.8232C19.8434 14.7061 20.1007 14.5342 20.3175 14.3175C20.5342 14.1007 20.7061 13.8434 20.8232 13.5601C20.9403 13.2768 21.0004 12.9732 21 12.6667V3.33333ZM17.6602 6.47556L13.5147 10.6258C13.3688 10.7716 13.171 10.8535 12.9648 10.8535C12.7585 10.8535 12.5607 10.7716 12.4149 10.6258L10.3398 8.55067C10.1981 8.40398 10.1197 8.20751 10.1215 8.00358C10.1232 7.79965 10.205 7.60457 10.3493 7.46036C10.4935 7.31616 10.6885 7.23436 10.8925 7.23259C11.0964 7.23081 11.2929 7.30921 11.4396 7.45089L12.964 8.97533L16.562 5.37733C16.6337 5.30305 16.7196 5.2438 16.8145 5.20303C16.9094 5.16227 17.0114 5.14081 17.1147 5.13992C17.218 5.13902 17.3204 5.1587 17.416 5.19781C17.5115 5.23691 17.5984 5.29467 17.6714 5.36769C17.7444 5.44072 17.8022 5.52756 17.8413 5.62315C17.8804 5.71873 17.9001 5.82115 17.8992 5.92442C17.8983 6.0277 17.8768 6.12976 17.8361 6.22465C17.7953 6.31954 17.7361 6.40536 17.6618 6.47711L17.6602 6.47556Z" fill="url(#paint0_linear_3235_4820)" />
      <defs>
        <linearGradient id="paint0_linear_3235_4820" x1="7" y1="6.15094" x2="20.3264" y2="12.1008" gradientUnits="userSpaceOnUse">
          <stop stopColor="#ED457D" />
          <stop offset="1" stopColor="#FA8F42" />
        </linearGradient>
      </defs>
    </svg>
  ),
  enterprise: (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
      <path d="M14.9923 5.80557V19.6829C14.9923 19.7624 14.9607 19.8386 14.9046 19.8949C14.8484 19.9511 14.7723 19.9826 14.6929 19.9826H10.8004C10.7231 19.9812 10.6493 19.9505 10.5937 19.8968C10.5381 19.843 10.505 19.7702 10.501 19.6929V15.9863C10.501 15.4563 10.2907 14.9481 9.9163 14.5734C9.54195 14.1986 9.03423 13.9881 8.50482 13.9881C7.9754 13.9881 7.46768 14.1986 7.09333 14.5734C6.71898 14.9481 6.50867 15.4563 6.50867 15.9863V19.6829C6.5065 19.7567 6.47822 19.8274 6.42887 19.8823C6.37951 19.9372 6.3123 19.9727 6.23919 19.9826H4.01348C3.74242 20.0209 3.46617 19.9957 3.20654 19.9088C2.94691 19.8219 2.711 19.6758 2.51742 19.4821C2.32385 19.2883 2.17791 19.0521 2.09113 18.7922C2.00434 18.5323 1.97908 18.2558 2.01734 17.9845V3.49768C2.01748 3.27208 2.06851 3.04942 2.1666 2.84632C2.2647 2.64321 2.40734 2.4649 2.58388 2.32467C2.76043 2.18445 2.96632 2.08593 3.1862 2.03646C3.40609 1.987 3.63429 1.98787 3.85379 2.03901L13.8345 4.3469C14.1646 4.42175 14.4592 4.60712 14.6698 4.87235C14.8803 5.13759 14.9941 5.46681 14.9923 5.80557ZM7.75626 10.9908C7.75495 10.7925 7.67567 10.6027 7.53557 10.4624C7.39547 10.3222 7.20583 10.2428 7.00771 10.2415H6.00963C5.8111 10.2415 5.6207 10.3205 5.48032 10.461C5.33994 10.6015 5.26108 10.7921 5.26108 10.9908C5.26108 11.1896 5.33994 11.3802 5.48032 11.5207C5.6207 11.6612 5.8111 11.7402 6.00963 11.7402H7.00771C7.20583 11.7389 7.39547 11.6595 7.53557 11.5192C7.67567 11.379 7.75495 11.1892 7.75626 10.9908ZM7.75626 7.99358C7.75495 7.79525 7.67567 7.60542 7.53557 7.46518C7.39547 7.32493 7.20583 7.24557 7.00771 7.24426H6.00963C5.8111 7.24426 5.6207 7.32321 5.48032 7.46373C5.33994 7.60425 5.26108 7.79485 5.26108 7.99358C5.26108 8.19231 5.33994 8.3829 5.48032 8.52342C5.6207 8.66395 5.8111 8.74289 6.00963 8.74289H7.00771C7.20583 8.74158 7.39547 8.66222 7.53557 8.52198C7.67567 8.38174 7.75495 8.1919 7.75626 7.99358ZM11.7486 10.9908C11.7472 10.7925 11.668 10.6027 11.5279 10.4624C11.3878 10.3222 11.1981 10.2428 11 10.2415H10.0019C9.8034 10.2415 9.613 10.3205 9.47262 10.461C9.33224 10.6015 9.25337 10.7921 9.25337 10.9908C9.25337 11.1896 9.33224 11.3802 9.47262 11.5207C9.613 11.6612 9.8034 11.7402 10.0019 11.7402H11C11.1981 11.7389 11.3878 11.6595 11.5279 11.5192C11.668 11.379 11.7472 11.1892 11.7486 10.9908ZM11.7486 7.99358C11.7472 7.79525 11.668 7.60542 11.5279 7.46518C11.3878 7.32493 11.1981 7.24557 11 7.24426H10.0019C9.8034 7.24426 9.613 7.32321 9.47262 7.46373C9.33224 7.60425 9.25337 7.79485 9.25337 7.99358C9.25337 8.19231 9.33224 8.3829 9.47262 8.52342C9.613 8.66395 9.8034 8.74289 10.0019 8.74289H11C11.1981 8.74158 11.3878 8.66222 11.5279 8.52198C11.668 8.38174 11.7472 8.1919 11.7486 7.99358Z" fill="#002402" />
      <path d="M20.4933 17.9847V10.3317C20.4948 9.99148 20.3797 9.66109 20.1672 9.39562C19.9546 9.13016 19.6576 8.94569 19.3256 8.87299L17.3694 8.4234C17.3254 8.41139 17.2792 8.40985 17.2345 8.41888C17.1899 8.42791 17.1479 8.44727 17.112 8.47542C17.0762 8.50357 17.0474 8.53972 17.0279 8.581C17.0085 8.62227 16.999 8.66752 17.0001 8.71314V19.6831C17.0001 19.7626 17.0316 19.8389 17.0878 19.8951C17.1439 19.9513 17.2201 19.9829 17.2995 19.9829H18.4972C18.7683 20.0212 19.0445 19.9959 19.3041 19.909C19.5638 19.8221 19.7997 19.676 19.9933 19.4823C20.1868 19.2885 20.3328 19.0523 20.4196 18.7924C20.5063 18.5326 20.5316 18.256 20.4933 17.9847Z" fill="url(#paint0_linear_3235_4827)" />
      <defs>
        <linearGradient id="paint0_linear_3235_4827" x1="17" y1="12.6763" x2="20.9359" y2="13.2087" gradientUnits="userSpaceOnUse">
          <stop stopColor="#ED457D" />
          <stop offset="1" stopColor="#FA8F42" />
        </linearGradient>
      </defs>
    </svg>
  ),
  support: (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
  <g clipPath="url(#clip0_3235_4834)">
    <path d="M22.0001 14.8888C22.0001 12.1587 20.4339 9.72227 18.0882 8.53711C18.0154 13.7716 13.7716 18.0154 8.53711 18.0882C9.72227 20.4339 12.1587 22.0001 14.8888 22.0001C16.1688 22.0001 17.4135 21.6592 18.5071 21.0115L21.969 21.969L21.0115 18.5072C21.6592 17.4135 22.0001 16.1687 22.0001 14.8888Z" fill="url(#paint0_linear_3235_4834)"/>
    <path d="M16.8008 8.40039C16.8008 3.76836 13.0324 0 8.40039 0C3.76836 0 0 3.76836 0 8.40039C0 9.91001 0.401844 11.3798 1.16488 12.6702L0.0308516 16.7697L4.1305 15.6359C5.42094 16.3989 6.89077 16.8008 8.40039 16.8008C13.0324 16.8008 16.8008 13.0324 16.8008 8.40039ZM7.11133 6.44531H5.82227C5.82227 5.02365 6.97873 3.86719 8.40039 3.86719C9.82205 3.86719 10.9785 5.02365 10.9785 6.44531C10.9785 7.16689 10.673 7.86045 10.1401 8.34784L9.04492 9.35021V10.3555H7.75586V8.7826L9.26982 7.39686C9.54039 7.14927 9.68945 6.81141 9.68945 6.44531C9.68945 5.73448 9.11122 5.15625 8.40039 5.15625C7.68956 5.15625 7.11133 5.73448 7.11133 6.44531ZM7.75586 11.6445H9.04492V12.9336H7.75586V11.6445Z" fill="#002402"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_3235_4834" x1="8.53711" y1="13.4905" x2="21.3523" y2="19.2121" gradientUnits="userSpaceOnUse">
      <stop stopColor="#ED457D"/>
      <stop offset="1" stopColor="#FA8F42"/>
    </linearGradient>
    <clipPath id="clip0_3235_4834">
      <rect width="22" height="22" fill="white"/>
    </clipPath>
  </defs>
</svg>
  ),
};

const Feature = ({ icon, text }) => (
  <div className="flex items-center whitespace-nowrap gap-3">
    {icons[icon]}
    <span>{text}</span>
  </div>
);

const Separator = () => (
  <div className="hidden md:block border-l border-gray-300 h-5 self-center" />
);

export default BulkGifting;
